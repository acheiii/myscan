# coding=utf-8
# @Author   : zpchcbd HG team
# @Time     : 2021-09-02 22:30

from exploit.BaseExploit import *

import http.client
import socket
import time
import pymongo
import requests
from threading import Thread
from concurrent.futures import ThreadPoolExecutor
requests.packages.urllib3.disable_warnings()

TIMEOUT = 3


class ServiceScan(Exploit):
    def __init__(self, domain, queue: asyncio.Queue):
        super().__init__()
        self.source = 'ServiceScan'
        self.domain = domain
        self.queue = queue
        self.user_list = ['root', 'sa', 'system', 'Administrtor', 'ubuntu']
        self.passwordList = ['root', 'sa', 'Aa@123456', 'admin', 'test', 'mysql', '123456', 'admin1234', 'admin12345', '000000', '987654321', '1234', '12345']

    def exploit(self, _ip):
        pass

    def main(self):
        pass
        # logging.info("IpUnauthScan Start")
        # p = ThreadPoolExecutor(10)
        # temp_ips = []
        # for aaa in self.:
        #     flag = 0
        #     if aaa['target'] == 'subdomain':
        #         if aaa['ips'] != '':
        #             for i in temp_ips:
        #                 if aaa['ips'] == i:
        #                     flag += 1
        #             if flag == 0:
        #                 temp_ips.append(aaa['ips'])
        #                 p.submit(self.exploit, aaa['ips'])
        #                 print("未授权扫描IP：", aaa['ips'])
        # p.shutdown()
        # self.write_file(self.ipunauthlist, self.domain, 9)

    def test02(self):
        pass
        # await self.queue.join()


if __name__ == '__main__':
    pass
    # starttime = time.time()
    # list_ = ['172.30.212.58']
    # queue = asyncio.Queue(-1)
    # xxx = IpUnauth('nbcc.cn', queue)
    #
    # print(time.time() - starttime)
